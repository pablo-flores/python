<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alarmas</title>
    <style>
        /* Estilos para el título */
        h1 {
            color: #00B5E9; /* Color del texto del título */
        }

        /* Estilos para la tabla */
        table {
            border-collapse: collapse; /* Colapsa los bordes de las celdas */
            width: 100%; /* Ancho completo */
        }

        th, td {
            border: 1px solid #000000; /* Borde negro para las celdas */
            padding: 8px; /* Espaciado interno */
            text-align: left; /* Alineación a la izquierda */
            font-family: Arial, sans-serif; /* Fuente Arial para celdas */
        }

        th {
            background-color: #69C4DD; /* Fondo azul claro para los encabezados */
            color: #000000; /* Color de texto negro para los encabezados */
        }

        tr:nth-child(even) {
            background-color: #f2f2f2; /* Color de fondo gris claro para las filas pares */
        }

        .footer {
            text-align: right; /* Alineación a la derecha */
            font-size: 0.8em; /* Tamaño de fuente pequeño */
            margin-top: 20px; /* Espaciado arriba del pie de página */
            font-family: Arial, sans-serif; /* Fuente Arial para celdas */
        }
    </style>
</head>
<body>
    <h1>Top 10 de Alarmas OUM</h1>
    <table>
        <tr>
            <th>Alarm ID</th>
            <th>Alarm State</th>
            <th>Alarm Type</th>
            <th>Network Element ID</th>
            <th>Inicio OUM</th>
            <th>Clients</th>
            <th>Type Network Element</th>
            <th>Alarm Raised Time</th>
            <th>Time Resolution</th>
        </tr>
        {% for alarma in alarmas %}
        <tr>
            <td>{{ alarma.alarmId }}</td>
            <td>{{ alarma.alarmState }}</td>
            <td>{{ alarma.alarmType }}</td>
            <td>{{ alarma.networkElementId }}</td>
            <td>{{ alarma.inicioOUM }}</td>
            <td>{{ alarma.clients }}</td>
            <td>{{ alarma.TypeNetworkElement }}</td>
            <td>{{ alarma.alarmRaisedTime }}</td>
            <td>{{ alarma.timeResolution }}</td>
        </tr>
        {% else %}
        <tr>
            <td colspan="9">No hay alarmas disponibles</td>
        </tr>
        {% endfor %}
    </table>
    <div class="footer">
        Foto del: <span id="local-time"></span>
    </div>

    <script>
        // Function to get local time and format it
        function updateLocalTime() {
            const now = new Date();
            const options = {
                day: '2-digit', 
                month: '2-digit', 
                year: 'numeric', 
                hour: '2-digit', 
                minute: '2-digit', 
                second: '2-digit',
                hour12: false // Use 24-hour format
            };
            const formattedTime = now.toLocaleString('es-AR', options);
            document.getElementById('local-time').textContent = formattedTime;
        }

        // Update the local time immediately
        updateLocalTime();

        // Optionally, update the time every second (optional if you want live time)
        //setInterval(updateLocalTime, 1000);
    </script>
</body>
</html>
